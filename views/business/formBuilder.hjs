
<!DOCTYPE html>
<html>
  <link rel="stylesheet" type="text/css" media="screen" href="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.11.4/jquery-ui.min.css">
  <link href='http://fonts.googleapis.com/css?family=Lato' rel='stylesheet' type='text/css'>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap.min.css">
  <link rel="stylesheet" href='/stylesheets/specificSheets/header.css'/>
  <link rel="stylesheet" type="text/css" href='/javascripts/form-render.min.css'></script>
  <link rel="stylesheet" type="text/css" href='javascripts/form-builder.css'></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.11.4/jquery-ui.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui-touch-punch/0.2.3/jquery.ui.touch-punch.min.js"></script>
  <script src='javascripts/form-builder.min.js'></script>
  <script src='javascripts/form-render.min.js'></script>

<body style='background-color: #89bdd3'>
      <!-- nav bar -->
      <div class = "top-bar-section">
        <div style="padding-top: 33px;">
          <span class="shameless-plug">Herald</span>
        </div>
        <div class="form-container">
          {{#message}}
            <div style="color: #FFFFFF">{{message}}</div>
          {{/message}}
        </div>
        <ul class="nav navbar-nav navbar-right navbar-padding nav-links">
          <li>
            <a href="/dashboard" style="color: white;">Dashboard</a>
          </li>
          <li>
            <a href="/addemployees" style="color: white;">Employees</a>
          </li>
          <li>
            <a href="/accountSettings" style="color: white;">Account Settings</a>
          </li>
          <li class="active">
            <a href="/businesssetting" style="color: white;">Company Settings</a>
          </li>
          <li>
            <a href="/logout" style="color: white;">Logout</a>
          </li>
        </ul>
      </div>
      <div class="top-bar-section-secondary" id="secondary_navbar">
          <ul class="nav navbar-nav navbar-right navbar-secondary">
              <li class="active"><a href="/formbuilder" style="color: white;">Manage Forms</a></li>
              <li><a href="/customizetheme" style="color: white;">Customize Theme</a></li>
              <li><a href="/businesssetting" style="color: white;">Company Settings</a></li>
          </ul>
      </div>
      <!-- end nav bar -->

{{#error}}
  <div class="alert alert-danger">{{error}}</div>
{{/error}}

<div style="padding: 20px 50px 50px 50px;">
    <div class="build-form">
        <h2><strong>Build The Form</strong></h2>
        <form action="formbuilder" method="post" id="formsubmit">
            <textarea name="formBuilder" id="formBuilder" cols="30" rows="10"></textarea>
            <input type="hidden" name="formData" id="formData" value="">
            <button type="submit" id="saveButton" class="btn btn-primary">Save Form</button>
        </form>
        <br style="clear:both">
    </div>

    <div class="render-form" >
        <form id="rendered-form" style="border: solid; border-color: white">
            <p style="text-align: center">Visitors will be greeted with this form.</p>
            <textarea id="currentForm">{{form}}</textarea>
        </form>
        <div class="render-description"> </div>
    </div>
    <br style="clear:both">
</div>

<script>
    jQuery(document).ready(function($) {
        'use strict';
        var template = document.getElementById('formBuilder'),
            currentTemplate = document.getElementById('currentForm'),
            saveBtn = document.getElementById('saveButton'),
            formData = document.getElementById('formData');

        $(template).formBuilder();
        $(currentTemplate).formRender();

        $(saveBtn).click(function(e){
          $(formData).attr("value", $(template).val());
          console.log($(template).val());

          $(saveBtn).submit();

        });
    });
</script>

</body>

</html>
